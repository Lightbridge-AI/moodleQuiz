<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="check_sub() is a generic function that check student submission(s) from Moodle Quiz report(s)
(i.e. Grades or Responses report). This function can encode &amp;amp; filter student's attempts by state (i.e., &quot;Finished&quot; or &quot;In progress&quot;) and started time (&quot;Started on&quot; column).
This function also cleans column names of Moodle Quiz report for easier manipulation, extracts student ID from &quot;Email address&quot; column using regular expression,
and unites &quot;First name&quot; and &quot;Surname&quot; column into &quot;Name&quot;."><title>Check Student Submission — check_sub • moodleQuiz</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Check Student Submission — check_sub"><meta property="og:description" content="check_sub() is a generic function that check student submission(s) from Moodle Quiz report(s)
(i.e. Grades or Responses report). This function can encode &amp;amp; filter student's attempts by state (i.e., &quot;Finished&quot; or &quot;In progress&quot;) and started time (&quot;Started on&quot; column).
This function also cleans column names of Moodle Quiz report for easier manipulation, extracts student ID from &quot;Email address&quot; column using regular expression,
and unites &quot;First name&quot; and &quot;Surname&quot; column into &quot;Name&quot;."><meta property="og:image" content="https://lightbridge-ks.github.io/moodleQuiz/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">moodleQuiz</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/moodleQuiz.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Lightbridge-KS/moodleQuiz/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Check Student Submission</h1>
      <small class="dont-index">Source: <a href="https://github.com/Lightbridge-KS/moodleQuiz/blob/HEAD/R/check_sub.R" class="external-link"><code>R/check_sub.R</code></a></small>
      <div class="d-none name"><code>check_sub.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>check_sub()</code> is a generic function that check student submission(s) from <a href="https://docs.moodle.org/311/en/Quiz_reports" class="external-link">Moodle Quiz report(s)</a>
(i.e. Grades or Responses report). This function can encode &amp; filter student's attempts by state (i.e., "Finished" or "In progress") and started time ("Started on" column).
This function also cleans column names of Moodle Quiz report for easier manipulation, extracts student ID from "Email address" column using regular expression,
and unites "First name" and "Surname" column into "Name".</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">check_sub</span><span class="op">(</span>
  <span class="va">data</span>,
  extract_id_from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Email address"</span>, <span class="st">"Institution"</span>, <span class="st">"Department"</span>, <span class="st">"ID number"</span><span class="op">)</span>,
  id_regex <span class="op">=</span> <span class="st">".*"</span>,
  sep_name <span class="op">=</span> <span class="st">" "</span>,
  state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Finished"</span>, <span class="st">"In progress"</span><span class="op">)</span>,
  encode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span>,
  choose_encode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"max"</span>, <span class="st">"min"</span>, <span class="st">"all"</span><span class="op">)</span>,
  choose_time <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"first"</span>, <span class="st">"last"</span>, <span class="st">"all"</span><span class="op">)</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>A data.frame <strong>or</strong> named list of data.frame of <a href="https://docs.moodle.org/311/en/Quiz_reports" class="external-link">Moodle Quiz report(s)</a> (i.e. either Grades or Responses report).</p></dd>
<dt>extract_id_from</dt>
<dd><p>(Character) Choose 1 column to extract ID from</p></dd>
<dt>id_regex</dt>
<dd><p>(Character) A regular expression used to extract ID from column (choose one) "Email address", "Institution", "Department", or "ID number" in the Moodle Quiz report. The default is "<code>.*</code>" meaning all characters.
If your student email addresses has numeric IDs in them, try "<code>[:digit:]+</code>" to extract digits from the email.
<strong>Note</strong>: Regular expression syntax is the same as <a href="https://github.com/rstudio/cheatsheets/blob/master/strings.pdf" class="external-link">stringr</a>.</p></dd>
<dt>sep_name</dt>
<dd><p>A character in the new "Name" column that separate original "First name" and "Surname".</p></dd>
<dt>state</dt>
<dd><p>A character vector to match values in "State" column of the Moodle Quiz report</p></dd>
<dt>encode</dt>
<dd><p>An encoding numeric vector corresponding to <code>state</code>.
For example: by default, in the "State" column, "Finished" values will be encoded as <code>1</code>, and
"In progress" will be encoded as <code>0</code>.</p></dd>
<dt>choose_encode</dt>
<dd><p>A character to filter student's attempt by the <code>encode</code>ing.</p><ul><li><p><strong>"max"</strong> (default): return rows that have maximum encoding of each students.</p></li>
<li><p><strong>"min"</strong>: return rows that have minimum encoding of each students.</p></li>
<li><p><strong>"all"</strong>: no filter applied, return all rows.</p></li>
</ul></dd>
<dt>choose_time</dt>
<dd><p>A character to filter student's attempt by started time (determined by "Started on" column in Moodle Quiz report).
This filter applies <strong>after</strong> <code>choose_encode</code> has been applied to the data.</p><ul><li><p><strong>"first"</strong> (default): return rows that represent first attempt of each students.</p></li>
<li><p><strong>"last"</strong>: return rows that represent last attempt of each students.</p></li>
<li><p><strong>"all"</strong>: no filter applied, return all rows after applying <code>choose_encode</code></p></li>
</ul></dd>
<dt>...</dt>
<dd><p>argument <code>sep_col</code> of <code>check_sub.list()</code>, which indicates a character separation between names of list and "state" or "encode" columns.</p></dd>
</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><strong>A data.frame</strong>, its output content is determined by class of its first argument: <code>data</code>.</p><ul><li><p>If the <code>data</code> is a data.frame; the output is an encoded, filtered, and cleaned data.frame of Moodle Quiz report.</p></li>
<li><p>If the <code>data</code> is a named list of data.frame; the output is the same as previously described, but all Moodle Quiz reports are <a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">full-joined</a> together by column "Name" and "ID".
And, a new column "Total" is computed by the sum of all "...State" columns.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># Submission of Data Frame</span></span>
<span class="r-in"><span class="fu">check_sub</span><span class="op">(</span><span class="va">grades_ls</span><span class="op">$</span><span class="va">Quiz_1</span>,</span>
<span class="r-in">          id_regex <span class="op">=</span> <span class="st">"[:digit:]+"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 26 × 16</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Name            ID    Institution Department State Encode Started            </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>             </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Jada Roquemore  017   <span style="color: #BB0000;">NA</span>          <span style="color: #BB0000;">NA</span>         Fini…      1 2021-06-02 <span style="color: #949494;">08:28:00</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Ronin Ali       001   <span style="color: #BB0000;">NA</span>          <span style="color: #BB0000;">NA</span>         Fini…      1 2021-06-02 <span style="color: #949494;">14:21:00</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Jerry Hoffpauir 002   <span style="color: #BB0000;">NA</span>          <span style="color: #BB0000;">NA</span>         Fini…      1 2021-06-02 <span style="color: #949494;">16:04:00</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Nathan Babbitt  026   <span style="color: #BB0000;">NA</span>          <span style="color: #BB0000;">NA</span>         Fini…      1 2021-06-02 <span style="color: #949494;">00:00:00</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Rohith Huynh    024   <span style="color: #BB0000;">NA</span>          <span style="color: #BB0000;">NA</span>         Fini…      1 2021-06-02 <span style="color: #949494;">14:47:00</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Joy Ellis       013   <span style="color: #BB0000;">NA</span>          <span style="color: #BB0000;">NA</span>         Fini…      1 2021-06-02 <span style="color: #949494;">03:56:00</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Jeremy Nelson   023   <span style="color: #BB0000;">NA</span>          <span style="color: #BB0000;">NA</span>         Fini…      1 2021-06-02 <span style="color: #949494;">08:09:00</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Christopher Di… 003   <span style="color: #BB0000;">NA</span>          <span style="color: #BB0000;">NA</span>         Fini…      1 2021-06-02 <span style="color: #949494;">00:49:00</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Israel Munoz    018   <span style="color: #BB0000;">NA</span>          <span style="color: #BB0000;">NA</span>         Fini…      1 2021-06-02 <span style="color: #949494;">15:36:00</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Zubaida al-Att… 022   <span style="color: #BB0000;">NA</span>          <span style="color: #BB0000;">NA</span>         Fini…      1 2021-06-02 <span style="color: #949494;">23:11:00</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 16 more rows, and 9 more variables: Grade_10.00 &lt;dbl&gt;, Q1 &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   Q2 &lt;dbl&gt;, Q3 &lt;dbl&gt;, Q4 &lt;dbl&gt;, Q5 &lt;dbl&gt;, Q6 &lt;dbl&gt;, Q7 &lt;chr&gt;, Q8 &lt;dbl&gt;</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Submission of List of DF</span></span>
<span class="r-in"><span class="fu">check_sub</span><span class="op">(</span><span class="va">grades_ls</span>,</span>
<span class="r-in">          id_regex <span class="op">=</span> <span class="st">"[:digit:]+"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 26 × 9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    Name              ID    Quiz_1_State Quiz_1_Encode Quiz_2_State Quiz_2_Encode</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Jada Roquemore    017   Finished                 1 Finished                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Ronin Ali         001   Finished                 1 Finished                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Jerry Hoffpauir   002   Finished                 1 Finished                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Nathan Babbitt    026   Finished                 1 Finished                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Rohith Huynh      024   Finished                 1 Finished                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Joy Ellis         013   Finished                 1 Finished                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Jeremy Nelson     023   Finished                 1 Finished                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Christopher Dill… 003   Finished                 1 Finished                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Israel Munoz      018   Finished                 1 Finished                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Zubaida al-Attar  022   Finished                 1 Finished                 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># … with 16 more rows, and 3 more variables: Quiz_3_State &lt;chr&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   Quiz_3_Encode &lt;dbl&gt;, Total &lt;dbl&gt;</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Kittipos Sirivongrungson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer></div>

  

  

  </body></html>

